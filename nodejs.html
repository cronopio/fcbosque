<!DOCTYPE html><html><head><meta charset="utf-8"><title>Node.js</title><meta name="viewport" content="width=1024, user-scalable=yes"><link rel="stylesheet" href="/stylesheets/cronopio/style.css"><link rel="stylesheet" href="/stylesheets/cronopio/horizontal-slide.css"><link rel="stylesheet" href="/stylesheets/cronopio/web-2.0.css"><link rel="icon" type="image/png" href="/images/favicon.png"><script src="/javascripts/modernizr.custom.js"></script></head><body class="deck-container"><div class="deck-remote-join-message"><p>Hay una presentacion disponible, desea ingresar a verla?</p><p class="deck-remote-links"><a href="#" class="deck-remote-ignore-link">Cancelar</a>|<a href="#" class="deck-remote-join-link">Ingresar</a></p></div><div class="deck-remote-leave-message"><p>La presentacion ha terminado.</p><p class="deck-remote-links"><a href="#" class="deck-remote-close-link">Cerrar</a></p></div><div class="deck-remote-master-message"><p>La clave es ...</p><p class="deck-remote-master-feedback"></p><form action="" class="deck-remote-master-form"><p><input type="password" class="deck-remote-password"></p><br><p class="deck-remote-links"><input type="submit" value="Iniciar Sesion"></p></form></div><section class="slide"><!--a(href="http://fcbosque.org")<img src="/images/header-logotype.jpg" style="margin-top:20px;float:right;"/>--><h2>Javascript del lado del servidor usando Node.js</h2><hr/><h3>Daniel Aristizabal Romero [<a href="http://cronop.io">cronopio</a>]</h3><h5>Nodejitsu Inc.</h5><img src="/images/node_turtle.png"/><div style="margin-top:-4em;" class="sources"><h5><a href="mailto:aristizabal.daniel@gmail.com">aristizabal.daniel@gmail.com</a><br/><a href="http://twitter.com/cronopio2">@cronopio2</a><br/><a href="http://gplus.to/cronopio">gplus.to/cronopio</a><br/><a href="http://github.com/cronopio">github.com/cronopio<img src="/images/github.png" style="margin:10px"/></a></h5></div></section><section class="slide"><h1>¿Node.js?</h1></section><section class="slide"><h2>¿Qué es Node.JS?</h2><hr/><p>Entorno de programación orientado a eventos<sup><a href="http://es.wikipedia.org/wiki/Programaci%C3%B3n_dirigida_por_eventos">[1]</a></sup>, pensado para construir programas de red rápidos y escalables, 
con modelos de entrada/salida sin bloqueo<sup><a href="http://en.wikipedia.org/wiki/Asynchronous_I/O">[2]</a></sup>que hacen liviano y eficiente el entorno. Perfecto para
aplicaciones en tiempo real y de datos intensivos.</p><ul><li><h3>JavaScript en Server - Side</h3></li><li><h3>Construido sobre <a href="http://code.google.com/p/v8/">V8 </a>(el motor de JS de Chrome)</h3></li><li><h3>Orientado a eventos</h3></li><li><h3>Similar a <a href="http://rubyeventmachine.com/">EventMachine </a>o <a href="http://twistedmatrix.com/">Twisted</a></h3></li><li><h3>Sistema de modulos CommonJS</h3></li><li><h3>Core escrito en C++, libreria estandar escrita en JS</h3></li><li><h3>En 2009, 14 desarrolladores del core. Hoy 533</h3></li></ul><div class="sources">Mas Info: <a href="http://es.wikipedia.org/wiki/Programaci%C3%B3n_dirigida_por_eventos">[1]</a>,<a href="http://en.wikipedia.org/wiki/Asynchronous_I/O">[2]</a></div></section><section class="slide"><h1>¿Y quién usa Node.js?</h1></section><section class="slide"><h2>En la industria.</h2><hr/><h3>Grandes compañias como...</h3><img src="/images/ebayLogo.jpg"/><a href="http://www.ebaytechblog.com/2011/11/30/announcing-ql-io/">Announcing ql.io</a><img src="/images/linkedin.jpg"/><a href="http://venturebeat.com/2011/08/16/linkedin-node/">How LinkedIn used Node.js and HTML5 to build a better, faster app</a><img src="/images/uberlogo.jpg"/><a href="https://www.uber.com/">https://www.uber.com/</a><img src="/images/facebook-logo.jpg"/></section><section class="slide"><h2>En la industria.</h2><hr/><h3>Grandes compañias como...</h3><img src="/images/walmart_labs.jpg"/><a href="https://github.com/walmartlabs">Walmart Labs y </a><a href="https://github.com/spumko">Spumko la division de Node.js en Walmart Labs</a><img src="/images/paypal.jpg"/><a href="http://nodeday.com/">Febrero 28 nodeday.com patrocinado por Paypal</a><img src="/images/groupon.jpg"/><a href="https://engineering.groupon.com/2013/node-js/">El backend de su aplicación movil es Node.js</a><br/><a href="http://www.youtube.com/watch?v=bqLXjNbMZpY">Más Casos de Exito en empresas </a></section><section class="slide"><h2>En la industria.</h2><hr/><h3>Compañias un poco menos conocidas...</h3><img src="/images/joyentlogo.jpg"/><img src="/images/nodejitsu-logo.png"/><img src="/images/c9-logo.jpg"/><img src="/images/yahoo.jpg"/></section><section class="slide"><h1>ESPERA!!<br/><small>¿JS en Server-side?</small><br/><div class="slide">WTF?!</div></h1></section><section class="slide"><h1>Si!, Gracias a <a href="http://code.google.com/p/v8/">V8</a><br/><sub>y a Joyent ;)</sub></h1></section><section class="slide"><h1>Orientado a Eventos.</h1></section><section class="slide"><h2>Bloqueo de I/O</h2><hr/><h3>Muchas aplicaciones web tienen código como este:</h3><blockquote><span style="color:#66CCFF">var </span><span style="color:#002EB8">$r </span> = db.query(<span style="color:#990000">'select * from T'</span>);<br/><code style="color:#009900">// puedo usar el <span style="color:#002EB8">$r</span></code><br/>echo <span style="color:#002EB8">$r </span></blockquote><h3> <a href="http://es.wikipedia.org/wiki/Programaci%C3%B3n_estructurada">Programación Estructurada.</a></h3><h3>¿Y qué hace el software mientras se hacen las consultas a la base de datos?</h3></section><section class="slide"><h1>En la mayoría de casos...<div class="slide">sólo esperar la respuesta.</div></h1></section><section class="slide"><h2>Non-blocking de I/O</h2><hr/><h3>En el mundo de javascript el código luciría algo como:</h3><blockquote>db.query(<small style="color:#990000">'select * from T'</small>, <span style="color:#002EB8">function </span>(r) {<br/><code style="color:#009900">// puedo usar el <span style="color:#002EB8">r</span></code><br/><span style="margin-left:1em">alert(</span><span style="color:#002EB8">r</span>);<br/>});<br/><code style="color:#009900">// el flujo del programa sigue</code><br/>alert(<small style="color:#990000">'Hola Mundo'</small>);</blockquote><h3><a href="http://es.wikipedia.org/wiki/Programaci%C3%B3n_dirigida_por_eventos">Programación controlada por eventos (event-driven).</a></h3></section><section class="slide"><h1>El buen software puede ser <br/><em>multi-tarea.</em></h1></section><section class="slide"><h1>Otros <em>hilos </em>de ejecución pueden correr mientras esperan. </h1></section><section class="slide"><h1>¿Es lo mejor que podemos hacer?</h1></section><section class="slide"><h1>Démosle una mirada a <a href="http://www.apache.org/">Apache </a>y <a href="http://nginx.org/">Nginx</a></h1></section><section class="slide"><h2>Apache vs Nginx</h2><hr/><h3>Memoria RAM vs Conexiones Concurrentes</h3><img src="/images/nginx-apache-memory.png"/><div class="sources">Fuentes: <a href="http://blog.webfaction.com/a-little-holiday-present">[1]</a></div></section><section class="slide"><h2>Apache vs Nginx</h2><hr/><h3>¿La diferencia?</h3><ul><li class="slide"> <strong>Apache </strong>usa <em>un hilo por conexión.</em></li><li class="slide"><strong>Nginx </strong><em>no usa hilos. </em>Usa un bucle de eventos (event loop).</li></ul><ul><li class="slide">Los cambios de <em>contexto </em>no son gratis.</li><li class="slide">Las pilas de ejecución de tareas requieren memoria.</li></ul><ul><li class="slide">Para concurrencia masiva, <mark>no se puede </mark>usar un hilo del sistema operativo por cada conexión.</li></ul><ul><li class="slide">La concurrencia usando hilos, es una abstraccion con fugas.</li></ul></section><section class="slide"><h2>Concurrencia de hilos</h2><hr/><h3>Código como este:</h3><blockquote><span style="color:#66CCFF">var </span>r = db.query(<span style="color:#990000">'select * from T'</span>);<br/><code style="color:#009900"><!-- uso el $r--></code></blockquote><h3> <mark>Bloquea el proceso entero </mark>o implica <mark>la ejecución de pilas de tareas.</mark></h3></section><section class="slide"><h2>Concurrencia por Eventos</h2><hr/><h3>Pero código como este:</h3><blockquote>db.query(<span style="color:#990000">"select ..."</span>, <span style="color:#002EB8">function</span>(r) {<br/><code style="color:#009900;margin-left:30px">// uso el r</code><br/>});</blockquote><h3>Permite al programa regresar al bucle de eventos inmediatamente.</h3><h3 class="slide">... y no necesita nada más.</h3></section><section class="slide"><h1>Asi es como debe hacerse la entrada/salida (I/O)</h1></section><section class="slide"><h1>...mmm ¿bucle de eventos?, me suena a...<br/><div class="slide">JavaScript!</div></h1></section><section class="slide"><h2>JavaScript</h2><hr/><h3>JavaScript esta especialmente diseñado para ser usado como un bucle de eventos (event loop):</h3><ul><li class="slide">Funciones anónimas, <em>closures.</em></li><li class="slide">Solo un <em>callback </em>al mismo tiempo.</li><li class="slide">Entrada/Salida (I/O) a través de eventos en el DOM.</li><li class="slide">La cultura del JavaScript normalmente usa programación orientada a eventos.</li><div class="slide"><blockquote>“Un lenguaje que no tenga todo, 
es realmente fácil programarlo para que lo haga todo.”<br/><em style="margin-left: 3em">   – Dennis Ritchie</em></blockquote></div></ul></section><section class="slide"><h1>Volvamos a Node.JS...</h1></section><section class="slide"><h2>Stack</h2><hr/><img src="/images/Stack.png"/></section><section class="slide"><h1>Instalación.<br/><small>(en gnu/linux)</small></h1></section><section class="slide"><h2>Instalación</h2><hr/><h3>Dependencias:</h3><ul><li><strong>python  </strong><small><em>(recomendado 2.6, solo necesario cuando se compila)</em></small></li><li><strong>libssl-dev </strong><small><em>(si deseas usar SSL/TLS)</em></small></li></ul></section><section class="slide"><h2>Instalación</h2><hr/><h3>Debian:</h3><pre><code>root@host: ~ # echo deb http://ftp.us.debian.org/debian/ sid main > /etc/apt/sources.list.d/sid.list
root@host: ~ # apt-get update
root@host: ~ # apt-get install nodejs npm</code><div class="slide"><code>### Opcional (y obligatorio para algunos modulos)</code></div><div class="slide"><code>root@host: ~ # apt-get install build-essential # Herramientas de compilación
root@host: ~ # apt-get install nodejs-dev # Codigo de nodejs</code></div></pre><h3>Ubuntu:</h3><pre><code>sudo apt-get install python-software-properties
sudo add-apt-repository ppa:chris-lea/node.js
sudo apt-get update
sudo apt-get install nodejs npm</code><div class="slide"><code>### De nuevo, opcional (y obligatorio para algunos modulos)</code></div><div class="slide"><code>sudo apt-get install build-essential # Herramientas de compilación
sudo apt-get install nodejs-dev # Codigo de nodejs</code></div></pre></section><section class="slide"><h2>Instalación</h2><hr/><h3>Para mas distribuciones y/o sistemas operativos <a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">revise la wiki de node.</a></h3><h3 class="slide">¿Windows?</h3><h3 class="slide">Para Windows cada vez son mas grandes los esfuerzos para que funcione bien, pero <code>node.js</code> tiene algunos principios bastante ligados con los Unix modernos.</h3><h3 class="slide">¿MacOSX?</h3><h3 class="slide"><a href="http://nodejs.org/dist/v0.6.15/node-v0.6.15.pkg">Instalador Oficial.</a></h3></section><section class="slide"><h2>Instalación</h2><hr/><h3>Descargando las fuentes:</h3><h4>Usando Git.</h4><pre><code>git clone git://github.com/joyent/node.git
cd node/
git checkout v0.6.15</code></pre><h4>Descargando un tarball.</h4><pre><code>wget -c https://github.com/joyent/node/tarball/v0.6.15 -O node-0.6.15.tar.gz
tar zxvf node-0.6.15.tar.gz
cd joyent-node-d90d46f/</code></pre><div class="sources"><a href="https://github.com/joyent/node/wiki/Installation">Guía de Instalación Oficial </a>-  <a href="http://apptob.org/">Script para instalación en Ubuntu.</a></div></section><section class="slide"><h2>Instalación</h2><hr/><h3>Construcción:</h3><h4>Como usuario sin privilegios.</h4><pre><code>mkdir ~/local
./configure --prefix=~/local
make -j2 # dependiendo del numero de cores.
make install
echo 'export PATH=$HOME/local/bin:$PATH' >> ~/.bashrc
source ~/.bashrc</code></pre><h4>Como root.</h4><pre><code>su -
./configure
make -j2 # dependiendo del numero de cores.
make install</code></pre></section><section class="slide"><h2>Instalación</h2><hr/><h3>Node Package Manager (NPM)</h3><pre><code>curl http://npmjs.org/install.sh | sh</code></pre><h3>Instalando módulos o paquetes.</h3><h4>de manera local</h4><pre><code>npm install express</code></pre><h4>de manera global</h4><pre><code>npm install <strong>-g </strong>express</code></pre><div class="sources"><a href="http://www.npmjs.org/">Página NPM</a></div></section><section class="slide"><h1>Ok, ¿y ahora?</h1></section><section class="slide"><h2>Ecosistema de Módulos</h2><hr/><h3>Busqueda en <a href="http://search.npmjs.org/">search.npmjs.org</a></h3><h3>O usando CLI  (9101 paquetes registrados.)</h3><pre><code>npm search hook.io   # tema o tag a buscar</code></pre><hr/><h4>Paquetes más usados.</h4><img src="/images/pkg-mas-usados.png"/></section><section class="slide"><h2>Ecosistema de Módulos</h2><hr/><h3> <a href="http://toolbox.no.de/">node-toolbox</a></h3><p>El <strong> node-toolbox </strong> es un sitio donde podemos encontrar los paquetes registrados en NPM ordenados por categorías. También tiene links a sitios de interés y listados por popularidad de paquetes. La aplicación está desplegada en las<em>Smart Machines </em>de  <a href="http://no.de/"> Joyent </a> y su url es:<a href="http://toolbox.no.de/">toolbox.no.de</a></p><h3> <a href="https://github.com/joyent/node/wiki/modules">Wiki de Node</a></h3><p>El wiki de node tiene un listado de módulos compatibles con node.js.</p><h3><a href="http://nodejsmodules.org/">node.js module rankings</a></h3><p>Listado de modulos de node.js ordenados por su ranking. </p></section><section class="slide"><h1>¿Más Preguntas?</h1></section><section class="slide"><h1>Demos!!!<br/>:-)</h1></section><section class="slide"><h2>Hola Mundo.</h2><hr/><script src="/javascripts/gists/sys.js"></script></section><section class="slide"><h2>Callback</h2><script src="/javascripts/gists/exit.js"></script></section><section class="slide"><h2>Socket TCP</h2><hr/><h3>Servidor</h3><script src="/javascripts/gists/tcp.js"></script><h3>Cliente</h3><pre><code>telnet localhost 8000</code></pre></section><section class="slide"><h2>Consulta de dominios.</h2><hr/><h3>Servidor</h3><script src="/javascripts/gists/dns.js"></script><h3>Cliente</h3><pre><code>telnet localhost 8000
ip fcbosque.org
salir</code></pre></section><section class="slide"><h2>Servidor Web</h2><hr/><h3>Servidor</h3><script src="/javascripts/gists/http.js"></script><h3>Cliente</h3><pre><code>http://localhost:4000/</code></pre></section><section class="slide"><a href="https://github.com/cronopio/nodeSlides"><img style="position: absolute; top: 0; right: 0; border: 0;" src="/images/github-green.png" alt="Fork me on GitHub"/></a><h1>Gracias!!</h1><div class="sources"><h3>Daniel Aristizabal Romero</h3><hr/><h4>Laboratorio Tecnológico Fundación Casa del Bosque</h4><a href="http://fcbosque.org"><img src="/images/header-logotype.jpg" style="margin:10px;"/></a><h5><a href="mailto:aristizabal.daniel@gmail.com">aristizabal.daniel@gmail.com </a>- <a href="http://gplus.to/cronopio">gplus.to/cronopio </a>- <a href="http://twitter.com/cronopio2">@cronopio2 </a><a href="http://github.com/cronopio"><img src="/images/github.png" style="margin:10px"/></a></h5></div></section><a title="Anterior" href="#" class="deck-prev-link">&#8592;</a><a title="Siguiente" href="#" class="deck-next-link">&#8594;</a><p class="deck-status"><span class="deck-status-current"></span>/<span class="deck-status-total"></span></p></body><script src="/javascripts/jquery-1.6.4.min.js"></script><script src="/javascripts/deck/deck.core.js"></script><script src="/javascripts/deck/deck.status.js"></script><script src="/javascripts/deck/deck.navigation.js"></script><script src="/javascripts/deck/deck.remote.js"></script><script>$(function() {
  $.deck('.slide');
  $.deck('remote');
});</script></html>